webpackJsonp([9],{"8C4o":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("woOf"),l=s.n(a),r=(s("mtWM"),{data:function(){return{query:{address:"",name:"",pageIndex:1,pageSize:10},users:[],user:{id:"",name:"",phone:"",date:"",address:"",status:0},multipleSelection:[],pageTotal:0,userFormVisible:!1,dialogTitle:"",rowIndex:9999,rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}]}}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;this.loading=!0,this.$http("/api/users").then(function(t){e.users=t.data,e.pageTotal=t.pageTotal||100})},handleSearch:function(){this.$set(this.query,"pageIndex",1)},handleAdd:function(){this.dialogTitle="新增",this.user=l()({},this.userBackup),this.userFormVisible=!0},handleEdit:function(e,t){console.log(t),this.dialogTitle="编辑",this.user=l()({},t),this.userFormVisible=!0,this.rowIndex=e},submitUser:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var s=t.user.id;s?t.users.splice(t.rowIndex,1,t.user):(t.user.id=t.users.length+1,t.users.unshift(t.user)),t.userFormVisible=!1,t.$message({type:"success",message:s?"修改成功":"新增成功"})}})},handleDelete:function(e,t){var s=this;this.$confirm("确定删除用户【"+t.name+"】吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.users.splice(e,1),s.$message({type:"success",message:"删除成功"}).catch(function(){console.log("取消删除")})})}}}),i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 用户信息\n      ")])],1)],1),e._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"handle-box"},[s("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("批量删除")]),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),s("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"用户名"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v("搜索")])],1),e._v(" "),s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.users,border:"","header-cell-class-name":"table-header"}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"id",label:"ID",width:"55",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"手机",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{sortable:"",prop:"date",label:"出生日期",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{prop:"address",label:"地址",width:"240"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.status?"启用":"禁用"))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),s("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal}})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.dialogTitle,visible:e.userFormVisible,width:"30%"},on:{"update:visible":function(t){e.userFormVisible=t}}},[s("el-form",{ref:"userForm",attrs:{model:e.user,rules:e.rules,"label-width":"70px"}},[s("el-form-item",{attrs:{label:"姓名",prop:"name","label-width":"50px"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机","label-width":"50px"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"出生日期","label-width":"50px"}},[s("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.user.date,callback:function(t){e.$set(e.user,"date",t)},expression:"user.date"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"地址","label-width":"50px"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态","label-width":"50px"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:e.user.status,callback:function(t){e.$set(e.user,"status",t)},expression:"user.status"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.userFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUser("userForm")}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var n=s("VU/8")(r,i,!1,function(e){s("C6nc")},"data-v-572bdb7e",null);t.default=n.exports},C6nc:function(e,t){}});
//# sourceMappingURL=9.3ae2adb34e9e652db0d1.js.map