(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["table"],{"3e92":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 用户信息 ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"}},[e._v("批量删除")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.handleAdd}},[e._v("新增")]),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"用户名"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v("搜索")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.users,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机",width:"180"}}),a("el-table-column",{attrs:{sortable:"",prop:"date",label:"出生日期",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",width:"240"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.status?"启用":"禁用"))]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal}})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.userFormVisible,width:"30%"},on:{"update:visible":function(t){e.userFormVisible=t}}},[a("el-form",{ref:"userForm",attrs:{model:e.user,rules:e.rules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name","label-width":"50px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("el-form-item",{attrs:{label:"手机","label-width":"50px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),a("el-form-item",{attrs:{label:"出生日期","label-width":"50px"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.user.date,callback:function(t){e.$set(e.user,"date",t)},expression:"user.date"}})],1),a("el-form-item",{attrs:{label:"地址","label-width":"50px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":"50px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},model:{value:e.user.status,callback:function(t){e.$set(e.user,"status",t)},expression:"user.status"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.userFormVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUser("userForm")}}},[e._v("确定")])],1)],1)],1)},l=[],r=(a("a434"),a("b0c0"),a("bc3a"),{data:function(){return{query:{address:"",name:"",pageIndex:1,pageSize:10},users:[],user:{id:"",name:"",phone:"",date:"",address:"",status:0},multipleSelection:[],pageTotal:0,userFormVisible:!1,dialogTitle:"",rowIndex:9999,rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}]}}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;this.loading=!0,this.$http("/api/users").then((function(t){e.users=t.data,e.pageTotal=t.pageTotal||100}))},handleSearch:function(){this.$set(this.query,"pageIndex",1)},handleAdd:function(){this.dialogTitle="新增",this.user=Object.assign({},this.userBackup),this.userFormVisible=!0},handleEdit:function(e,t){this.dialogTitle="编辑",this.user=Object.assign({},t),this.userFormVisible=!0,this.rowIndex=e},submitUser:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=t.user.id;a?t.users.splice(t.rowIndex,1,t.user):(t.user.id=t.users.length+1,t.users.unshift(t.user)),t.userFormVisible=!1,t.$message({type:"success",message:a?"修改成功":"新增成功"})}}))},handleDelete:function(e,t){var a=this;this.$confirm("确定删除用户【".concat(t.name,"】吗？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.users.splice(e,1),a.$message({type:"success",message:"删除成功"}).catch((function(){console.log("取消删除")}))}))}}}),i=r,n=(a("4e7d"),a("2877")),o=Object(n["a"])(i,s,l,!1,null,"65852cd2",null);t["default"]=o.exports},"4e7d":function(e,t,a){"use strict";var s=a("aaea"),l=a.n(s);l.a},a434:function(e,t,a){"use strict";var s=a("23e7"),l=a("23cb"),r=a("a691"),i=a("50c4"),n=a("7b0b"),o=a("65f0"),u=a("8418"),c=a("1dde"),d=a("ae40"),p=c("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,f=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var a,s,c,d,p,m,v=n(this),y=i(v.length),x=l(e,y),w=arguments.length;if(0===w?a=s=0:1===w?(a=0,s=y-x):(a=w-2,s=f(b(r(t),0),y-x)),y+a-s>h)throw TypeError(g);for(c=o(v,s),d=0;d<s;d++)p=x+d,p in v&&u(c,d,v[p]);if(c.length=s,a<s){for(d=x;d<y-s;d++)p=d+s,m=d+a,p in v?v[m]=v[p]:delete v[m];for(d=y;d>y-s+a;d--)delete v[d-1]}else if(a>s)for(d=y-s;d>x;d--)p=d+s-1,m=d+a-1,p in v?v[m]=v[p]:delete v[m];for(d=0;d<a;d++)v[d+x]=arguments[d+2];return v.length=y-s+a,c}})},aaea:function(e,t,a){},b0c0:function(e,t,a){var s=a("83ab"),l=a("9bf2").f,r=Function.prototype,i=r.toString,n=/^\s*function ([^ (]*)/,o="name";s&&!(o in r)&&l(r,o,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=table.8243fb4d.js.map